<ion-header>
  <ion-toolbar>
    <ion-title>Change Password</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <form [formGroup]="form" (ngSubmit)="update(form.value)" class="ion-margin-top">
    <ion-list>
      <ion-item lines="full">
        <ion-label>
          Current Password
        </ion-label>
        <ion-input  class="ion-text-right" autocorrect="off" autofocus="of" type="password" formControlName="currentPassword">
        </ion-input>
        <span class="invalid-feedback"
          *ngIf="(controls.currentPassword.touched || submitted) && controls.currentPassword.errors?.required">required</span>
      </ion-item>
      <ion-item lines="full">
        <ion-label>
          New Password
        </ion-label>
        <ion-input  class="ion-text-right" autocorrect="off" autofocus="of" type="password" formControlName="newPassword">
        </ion-input>
        <span class="invalid-feedback"
          *ngIf="(controls.newPassword.touched || submitted) && controls.newPassword.errors?.required">required</span>
      </ion-item>
      <ion-item lines="full">
        <ion-label>
          <!-- <ion-icon icon-small name="key"></ion-icon> -->
          Confirm Password
        </ion-label>
        <ion-input  class="ion-text-right" autocorrect="off" autofocus="of" type="password" formControlName="confirmPassword">
        </ion-input>
        <span class="invalid-feedback"
          *ngIf="(controls.confirmPassword.dirty || submitted) && controls.confirmPassword.errors?.required">required</span>
        <span class="invalid-feedback"
          *ngIf="(controls.confirmPassword.dirty || submitted) && controls.confirmPassword.errors?.passwordMismatch">
          Passwords do not match
        </span>
      </ion-item>
    </ion-list>

    <div linespace></div>
    <ion-button class="ion-margin-top"  type="submit" color="primary" fill="solid" size="medium" expand="block" [disabled]="!form.valid">
      Change Password</ion-button>
  </form>
</ion-content>
